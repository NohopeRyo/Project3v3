@model Project_3_v3.Models.Product

@{
    ViewBag.Title = "Delete";
    Layout = "~/Areas/AdminShop/Views/Shared/_LayoutAdmin.cshtml";
}

<div ng-controller="Products">
    <h2>Delete</h2>
    <input id="id" hidden value="@Model.ProID" type="text" class="form-control" placeholder="Ma" aria-label="Username" aria-describedby="basic-addon1">
    <h3>Are you sure you want to delete this?</h3>
    <div>
        <h4>Bài hát </h4>
        <hr />
        <dl class="dl-horizontal">
            <dt>
                @Html.DisplayNameFor(model => model.Title)
            </dt>

            <dd>
                @Html.DisplayFor(model => model.Title)
            </dd>

        </dl>
        <div class="form-actions no-color">
            <input ng-click="Delete()" value="Delete" class="btn btn-default" /> |
            @Html.ActionLink("Back to List", "Index")
        </div>

    </div>
</div>

<script src="~/Scripts/angular.min.js"></script>
<script>
    var app = angular.module('Rogost', []);

    app.controller('Products', function ($scope, $http, $window) {
        $scope.product = {}
        $scope.Delete = Delete;
        function Delete() {
            var config = {
                params: {
                    id: $("#id").val(),
                }
            }
            $http.post("/AdminShop/Products/DeleteObj?id=" + $("#id").val(), null).then(function (result) {
                $window.location.href = '/AdminShop/Products';
            }, function (error) {
                console.log(config)
                alert("404 Error")
            });
        }

    });
</script>