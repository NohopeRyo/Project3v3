@model Project_3_v3.Models.Provider

@{
    ViewBag.Title = "Delete";
    Layout = "~/Areas/AdminShop/Views/Shared/_LayoutAdmin.cshtml";
}

<div ng-controller="Providers" class="container-xxl flex-grow-1 container-p-y">
    <h4 class="fw-bold py-3 mb-4"><span class="text-muted fw-light">Quản lý/Quản lý nhà sản xuất/</span>Xoá thông tin nhà sản xuất</h4>
    <input id="id" hidden value="@Model.PrvID" type="text" class="form-control" placeholder="Ma" aria-label="Username" aria-describedby="basic-addon1">
    <div class="card">
        <h5 class="card-header">Delete</h5>
        <div class="card-body">
            <div class="mb-3 col-12 mb-0">
                <div class="alert alert-danger">
                    <h6 class="alert-heading fw-bold mb-1">Bạn có chắc chắn muốn xoá thông tin nhà sản xuất này?</h6>
                    <p class="mb-0">Một khi đã xoá nhà sản xuất này,sẽ không có chuyện comeback đâu.Hãy thận trọng quyết định này</p>
                </div>
            </div>
            <form id="formAccountDeactivation" onsubmit="">
                <div class="form-check mb-3">
                    <input class="form-check-input"
                           type="checkbox"
                           name="accountActivation"
                           id="accountActivation" />
                    <label class="form-check-label" for="accountActivation">Đồng ý với quyết định này</label>
                </div>
                <input ng-click="Delete()" value="Delete" class="btn btn-danger deactivate-account" /> |
                @Html.ActionLink("Back to List", "Index")
            </form>
        </div>
    </div>
</div>
<script src="~/Scripts/angular.min.js"></script>
<script>
    var app = angular.module('Rogost', []);
    app.controller('Providers', function ($scope, $http, $window) {
        $scope.provider = {}
        $scope.Delete = Delete;
        function Delete() {
            var config = {
                params: {
                    id: $("#id").val(),
                }
            }
            $http.post("/AdminShop/Providers/DeleteObj?id=" + $("#id").val(), null).then(function (result) {
                $window.location.href = '/AdminShop/Providers';
            }, function (error) {
                console.log(config)
                alert("404 Error")
            });
        }
    });
</script>
